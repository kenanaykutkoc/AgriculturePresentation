@model EntityLayer.Concrete.Contact

@{
    ViewData["Title"] = "MessageDetails";
    Layout = "~/Views/Shared/_AdminLayout.cshtml";
}

<div class="col-12 grid-margin stretch-card">
    <div class="card">
        <div class="card-body">
            <h4 class="card-title">Mesaj Detayları Sayfası</h4>
            <form class="forms-sample" method="post">
                <div class="form-group">
                    @Html.HiddenFor(x=> x.ContactId)
                    <label>Adı Soyadı</label>
                    <input type="text" class="form-control" asp-for="Name">
                    <br />
                </div>
                <div class="form-group">
                    <label>Mail Adresi</label>
                    <input type="text" class="form-control" asp-for="Mail">
                    <br />
                </div>
                <div class="form-group">
                    <label>Tarih</label>
                    <input type="date" class="form-control" asp-for="Date">
                    <br />
                </div>
                <div class="form-group">
                    <label>Mesaj Detayı</label>
                    <textarea class="form-control" cols="5" rows="20" asp-for="Message"></textarea>
                    <br />
                </div>

            </form>

            <button type="button" class="btn btn-danger" id="btnDeleteMessage">Mesajı Sil</button>

            <script>
                document.getElementById("btnDeleteMessage").addEventListener("click", function () {
                    var confirmDelete = confirm("Bu mesajı silmek istediğinizden emin misiniz?");
                    if (confirmDelete) {
                        var contactId = "@Model.ContactId"; // C# Model değerini JavaScript'e aktarıyoruz
                        var deleteUrl = "/Contact/DeleteMessage?contactId=" + contactId; // URL'yi oluşturuyoruz
                        window.location.href = deleteUrl; // Sayfayı belirtilen URL'ye yönlendiriyoruz
                    }
                });
            </script>

        </div>
    </div>
</div>



