@model EntityLayer.Concrete.Contact

<div class="col-md-9 contact-middle">
	<h2>Mesaj Formu</h2>
	@using (Html.BeginForm("SendMessage", "Default", FormMethod.Post))
	{
		<div class="form-agileinfo">
			<p>Adınız Soyadınız</p>
			<input type="text" asp-for="Name" placeholder="ad soyad" required="" />
			<p>Mail Adresiniz</p>
			<input type="email" asp-for="Mail" placeholder="mail adresiniz" required="" />
		</div>
		<div class="form-agileits-w3layouts">
			<p>Mesajınız</p>
			<textarea asp-for="Message" placeholder="mesaj.." required=""></textarea>
			<input type="submit" value="MESAJI GÖNDER" onclick="validateForm()" />
		</div>

		<div class="clearfix"></div>
		<div id="error-message" style="color: red;"></div>
	}

	@if (ViewBag.MessageSent != null && (bool)ViewBag.MessageSent)
	{
		<script>
			showPopup();
		</script>
	}
</div>

<script>
	function showPopup() {
		alert('Mesajınız başarıyla gönderildi.');
	}

	function validateForm() {
		var name = document.querySelector('input[name="Name"]').value;
		var mail = document.querySelector('input[name="Mail"]').value;
		var message = document.querySelector('textarea[name="Message"]').value;
		var errorMessage = document.getElementById('error-message');
		errorMessage.innerHTML = "";

		if (name.trim() === "" || mail.trim() === "" || message.trim() === "") {
			errorMessage.innerHTML = "Lütfen tüm alanları doldurunuz.";
			return false;
		}
	}
</script>
